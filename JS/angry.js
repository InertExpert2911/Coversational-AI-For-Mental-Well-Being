<html>
<head>
<title>ANGRY BOT</title>
<script type="text/javascript" src="index.js"></script>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="main">
Â Â Â Â <div><input id="input" type="text" placeholder="Hello there!"
 autocomplete="off"/></div>
document.addEventListener("DOMContentLoaded", () => {
Â Â document.querySelector("#input").addEventListener("keydown", function(e) {
Â Â Â Â if (e.code === "Yes") {
Â Â Â Â Â Â Â Â console.log("Breathe In 1..2..3 and Breathe Out 1..2..3 ğŸ‘")
Â Â Â Â }
Â Â });
});
document.addEventListener("DOMContentLoaded", () => {
Â Â Â Â const inputField = document.getElementById("input")
Â Â Â Â inputField.addEventListener("keydown", function(e) {
Â Â Â Â Â Â Â Â if (e.code === "Yes") {
Â Â Â Â Â Â Â Â Â Â Â Â let input = inputField.value;
Â Â Â Â Â Â Â Â Â Â Â Â inputField.value = "";
console.log("You good to go? All-set?")
Â Â Â Â }
Â Â });
});
console.log("**Take a breather**
Your breathing becomes shallower and speeds up as you grow angry. 
Reverse that trend (and your anger) by taking slow, deep breaths from your nose and exhaling out of your mouth for several moments.")
<url =â€ https://www.youtube.com/watch?v=4uoXBrPnSEoâ€>
Â Â Â if (e.code === "Maybe? Yes") {
Â Â Â Â Â Â let input = inputField.value;
Â Â Â Â Â Â console.log(`I typed '${input}'`)
	Â  console.log(`Want to continue?')
output(url(â€œoutput(url(â€œhttps://youtu.be/d96akWDnx0â€));â€));

Â Â Â Â }
	function () {
console.log("Follow the above video and try meditating.")
console.log("Continue")

Â Â let text = input.toLowerCase().replace(/[^\w\s\d]/gi, "");

Â Â text = text
Â Â Â Â .replace(/ a /g, " ")
Â Â Â Â .replace(/i feel /g, "")
Â Â Â Â .replace(/whats/g, "what is")
Â Â Â Â .replace(/please /g, "")
Â Â Â Â .replace(/ please/g, "");
}
const trigger = [
//0Â 
["hi", "hey", "hello"],
//1
["how are you", "how are things"],
//2
["what is going on", "what is up"],
//3
["happy", "good", "well", "fantastic", "cool"],
//4
["bad", "bored", "tired", "sad"],
//5
["tell me story", "tell me joke"],
//6
["thanks", "thank you"],
//7
["bye", "good bye", "goodbye"]
];

const reply = [
//0Â 
["Hello!", "Hi!", "Hey!", "Hi there!"],Â 
//1
[
Â Â Â Â "Fine... how are you?",
Â Â Â Â "Pretty well, how are you?",
Â Â Â Â "Fantastic, how are you?"
Â Â ],
//2
[
Â Â Â Â "Nothing much",
Â Â Â Â "Exciting things!"
Â Â ],
//3
["Are you feeling better?"],
//4
[""],
["What about?", "Once upon a time..."],

["Still Feeling Depressed?"],

["Then, It would be ideal if you **contact a therapist (HOTLINE-18002333330)**"],
];

const alternative = [
Â Â "Same",
Â Â "Go on...",
Â Â "Try again",
Â Â "I'm listening...",
Â Â "Bro..."
];
function compare(triggerArray, replyArray, text) {
Â Â let item;
Â Â for (let x = 0; x < triggerArray.length; x++) {
Â Â Â Â for (let y = 0; y < replyArray.length; y++) {
Â Â Â Â Â Â if (triggerArray[x][y] == text) {
Â Â Â Â Â Â Â Â items = replyArray[x];
Â Â Â Â Â Â Â Â item = items[Math.floor(Math.random() * items.length)];
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }
Â Â return item;
}
function output(input) {
Â Â let product;
Â Â let text = input.toLowerCase().replace(/[^\w\s\d]/gi "");
Â Â text = text
Â Â Â Â .replace(/ a /g, " ")
Â Â Â Â .replace(/i feel /g, "")
Â Â Â Â .replace(/whats/g, "what is")
Â Â Â Â .replace(/please /g, "")
Â Â Â Â .replace(/ please/g, "");

//compare arrays
//then search keyword
//then random alternative

console.log("Try Listening To Your Favorite Music.")
<a imgsrc=â€  â€  href=â€Watchâ€ :â€ noâ€>
<url=â€ https://www.youtube.com/watch?v=kdLTOurs2lAâ€>

Â Â if (compare(trigger, reply, text)) {
Â Â Â Â product = compare(trigger, reply, text);
Â Â } else if (text.match(/robot/gi)) {
Â Â Â Â product = robot[Math.floor(Math.random() * robot.length)];
Â Â } else {
Â Â Â Â product = alternative[Math.floor(Math.random() * alternative.length)];
Â Â }

Â Â //update DOM
Â Â addChat(input, product);
}
const robot = ["If you still feel sad, try taking to a loved one."];
console.log("Relax Your Body and Muscles.");
document.addEventListener("DOMContentLoaded", () => {
...
Â Â Â Â if (e.code === "Hear Jokes?") {
Â Â Â Â Â Â Â Â let input = document.getElementById("input").value;
Â Â Â Â Â Â Â Â document.getElementById("user").innerHTML = input;
console.log("Here's a good one for you:
The past, the present, and the future walk into a bar...It was tense. ğŸ˜‚"); 
Â Â Â Â Â Â Â Â output(input);Â 
console.log("Let me tell you another one and this is really good!
What do you call a rose that wants to go to the moon?...Gulab ja Moon.");Â Â 
output(url(â€œhttps://youtu.be/d96akWDnx0â€));Â 
Â Â Â Â Â }
Â Â });
});
function output(input) {
Â Â Â Â let product;
Â Â Â Â let text = (input.toLowerCase()).replace(/[^\w\s\d]/gi, "");
...
Â Â Â Â document.getElementById("chatbot").innerHTML = product;
Â Â Â Â speak(product);

Â Â Â Â //clear input value
Â Â Â Â document.getElementById("input").value = "";
}
function addChat(input, product) {
Â Â const mainDiv = document.getElementById("main");
Â Â let userDiv = document.createElement("div");
Â Â userDiv.id = "user";
Â Â userDiv.innerHTML = `You: <span id="user-response">${input}</span>`;
Â Â mainDiv.appendChild(userDiv);

Â Â let botDiv = document.createElement("div");
Â Â botDiv.id = "bot";
Â Â botDiv.innerHTML = `Chatbot: <span id="bot-response">${product}</span>`;
Â Â mainDiv.appendChild(botDiv);
Â Â speak(product);
}
function speak(string) {
Â Â const u = new SpeechSynthesisUtterance();
Â Â allVoices = speechSynthesis.getVoices();
Â Â u.voice = allVoices.filter(voice => voice.name === "Alex")[0];
Â Â u.text = string;
Â Â u.lang = "en-US";
Â Â u.volume = 1; //0-1 interval
Â Â u.rate = 1;
Â Â u.pitch = 1; //0-2 interval
Â Â speechSynthesis.speak(u);
}
</div>
</body>
</html>
